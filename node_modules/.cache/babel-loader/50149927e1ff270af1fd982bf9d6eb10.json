{"ast":null,"code":"var _jsxFileName = \"/home/muhammad/Desktop/Working Areas/Saylani Working directory/React/facebook/src/Posts.js\";\nimport React, { useState, useEffect } from 'react';\nimport ImageUpload from './ImageUpload';\nimport './Posts.css';\nimport firebase from 'firebase';\nimport { db } from './firebase';\nimport Post from './Post.js';\nimport { useHistory } from 'react-router-dom';\n\nfunction Posts({\n  user\n}) {\n  const history = useHistory(\"\");\n  const [posts, setPosts] = useState([]);\n  console.log(user);\n\n  if (user === undefined) {\n    history.push(\"/login\");\n  }\n\n  useEffect(() => {\n    db.collection('posts').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n      setPosts(snapshot.docs.map(doc => ({\n        id: doc.id,\n        post: doc.data()\n      })));\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ImageUpload, {\n    username: user === null || user === void 0 ? void 0 : user.displayName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }), posts.map(({\n    id,\n    post\n  }) => /*#__PURE__*/React.createElement(Post, {\n    key: id,\n    postId: id,\n    origuser: user === null || user === void 0 ? void 0 : user.displayName,\n    username: post.username,\n    userId: user.uid,\n    caption: post.caption,\n    imageUrl: post.imageUrl,\n    noLikes: post.noLikes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  })));\n}\n\nexport default Posts;","map":{"version":3,"sources":["/home/muhammad/Desktop/Working Areas/Saylani Working directory/React/facebook/src/Posts.js"],"names":["React","useState","useEffect","ImageUpload","firebase","db","Post","useHistory","Posts","user","history","posts","setPosts","console","log","undefined","push","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","post","data","displayName","username","uid","caption","imageUrl","noLikes"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAO,aAAP;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,EAAT,QAAmB,YAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,SAASC,KAAT,CAAe;AAAEC,EAAAA;AAAF,CAAf,EAAyB;AACrB,QAAMC,OAAO,GAAGH,UAAU,CAAC,EAAD,CAA1B;AACA,QAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AAEAY,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;;AAEA,MAAIA,IAAI,KAAKM,SAAb,EAAwB;AACpBL,IAAAA,OAAO,CAACM,IAAR,CAAa,QAAb;AACH;;AAEDd,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B,WAA/B,EAA4C,MAA5C,EAAoDC,UAApD,CAA+DC,QAAQ,IAAI;AACvER,MAAAA,QAAQ,CAACQ,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkBC,GAAG,KAAK;AAC/BC,QAAAA,EAAE,EAAED,GAAG,CAACC,EADuB;AAE/BC,QAAAA,IAAI,EAAEF,GAAG,CAACG,IAAJ;AAFyB,OAAL,CAArB,CAAD,CAAR;AAIH,KALD;AAMH,GAPQ,EAON,EAPM,CAAT;AASA,sBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEjB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEkB,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAIQhB,KAAK,CAACW,GAAN,CAAU,CAAC;AAAEE,IAAAA,EAAF;AAAMC,IAAAA;AAAN,GAAD,kBACN,oBAAC,IAAD;AAAM,IAAA,GAAG,EAAED,EAAX;AAAe,IAAA,MAAM,EAAEA,EAAvB;AAA2B,IAAA,QAAQ,EAAEf,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEkB,WAA3C;AAAwD,IAAA,QAAQ,EAAEF,IAAI,CAACG,QAAvE;AAAiF,IAAA,MAAM,EAAEnB,IAAI,CAACoB,GAA9F;AAAmG,IAAA,OAAO,EAAEJ,IAAI,CAACK,OAAjH;AAA0H,IAAA,QAAQ,EAAEL,IAAI,CAACM,QAAzI;AAAmJ,IAAA,OAAO,EAAEN,IAAI,CAACO,OAAjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJR,CADJ;AAWH;;AAED,eAAexB,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport ImageUpload from './ImageUpload';\nimport './Posts.css';\nimport firebase from 'firebase';\nimport { db } from './firebase';\nimport Post from './Post.js';\nimport { useHistory } from 'react-router-dom';\n\nfunction Posts({ user }) {\n    const history = useHistory(\"\");\n    const [posts, setPosts] = useState([]);\n\n    console.log(user)\n\n    if (user === undefined) {\n        history.push(\"/login\")\n    }\n\n    useEffect(() => {\n        db.collection('posts').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n            setPosts(snapshot.docs.map(doc => ({\n                id: doc.id,\n                post: doc.data(),\n            })));\n        })\n    }, []);\n\n    return (\n        <div className=\"posts\">\n            <ImageUpload username={user?.displayName} />\n\n            {\n                posts.map(({ id, post }) => (\n                    <Post key={id} postId={id} origuser={user?.displayName} username={post.username} userId={user.uid} caption={post.caption} imageUrl={post.imageUrl} noLikes={post.noLikes} />\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Posts\n\n"]},"metadata":{},"sourceType":"module"}